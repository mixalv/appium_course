"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

const commands = {};

commands.getScreenshot = async function () {
  if (this.mjpegStream) {
    const data = await this.mjpegStream.lastChunkPNGBase64();

    if (data) {
      return data;
    }

    this.log.warn('Tried to get screenshot from active MJPEG stream, but there ' + 'was no data yet. Falling back to regular screenshot methods.');
  }

  return await this.uiautomator2.jwproxy.command('/screenshot', 'GET');
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9zY3JlZW5zaG90LmpzIl0sIm5hbWVzIjpbImNvbW1hbmRzIiwiZ2V0U2NyZWVuc2hvdCIsIm1qcGVnU3RyZWFtIiwiZGF0YSIsImxhc3RDaHVua1BOR0Jhc2U2NCIsImxvZyIsIndhcm4iLCJ1aWF1dG9tYXRvcjIiLCJqd3Byb3h5IiwiY29tbWFuZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsTUFBTUEsUUFBUSxHQUFHLEVBQWpCOztBQUVBQSxRQUFRLENBQUNDLGFBQVQsR0FBeUIsa0JBQWtCO0FBQ3pDLE1BQUksS0FBS0MsV0FBVCxFQUFzQjtBQUNwQixVQUFNQyxJQUFJLEdBQUcsTUFBTSxLQUFLRCxXQUFMLENBQWlCRSxrQkFBakIsRUFBbkI7O0FBQ0EsUUFBSUQsSUFBSixFQUFVO0FBQ1IsYUFBT0EsSUFBUDtBQUNEOztBQUNELFNBQUtFLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLGlFQUNaLDhEQURGO0FBRUQ7O0FBQ0QsU0FBTyxNQUFNLEtBQUtDLFlBQUwsQ0FBa0JDLE9BQWxCLENBQTBCQyxPQUExQixDQUFrQyxhQUFsQyxFQUFpRCxLQUFqRCxDQUFiO0FBQ0QsQ0FWRDs7ZUFZZVQsUSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbW1hbmRzID0ge307XG5cbmNvbW1hbmRzLmdldFNjcmVlbnNob3QgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLm1qcGVnU3RyZWFtKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWpwZWdTdHJlYW0ubGFzdENodW5rUE5HQmFzZTY0KCk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICB0aGlzLmxvZy53YXJuKCdUcmllZCB0byBnZXQgc2NyZWVuc2hvdCBmcm9tIGFjdGl2ZSBNSlBFRyBzdHJlYW0sIGJ1dCB0aGVyZSAnICtcbiAgICAgICd3YXMgbm8gZGF0YSB5ZXQuIEZhbGxpbmcgYmFjayB0byByZWd1bGFyIHNjcmVlbnNob3QgbWV0aG9kcy4nKTtcbiAgfVxuICByZXR1cm4gYXdhaXQgdGhpcy51aWF1dG9tYXRvcjIuandwcm94eS5jb21tYW5kKCcvc2NyZWVuc2hvdCcsICdHRVQnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvc2NyZWVuc2hvdC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
